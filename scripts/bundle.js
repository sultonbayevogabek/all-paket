(()=>{"use strict";function e(e){return document.querySelector(e)}function t(e){return document.querySelectorAll(e)}function n(){const n=e(".order-modal"),s=(e(".order-modal__content"),e(".order-modal__form"),e("#customer_name_span"),e(".customer_phone_span"),e("#customer_name"),e("#customer_phone"),e(".order-modal__form .order-btn"),e(".product-name-label span:first-child"),e(".product-name-label strong")),a=e("#product_name"),o=e("#scroll-top");function i(){document.body.style.overflow="",n.classList.add("hide-modal"),(document.body.scrollTop>300||document.documentElement.scrollTop>300)&&(o.style.display="block")}t("[data-product-name]").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target;var i,r;i=t.getAttribute("data-product-name"),r=t.getAttribute("data-product-name-show").replace(/_/gi," "),document.body.style.overflow="hidden",n.classList.remove("hide-modal"),o.style.display="none",s.textContent=r,a.value=i}))})),n.addEventListener("click",(e=>{e.target===n&&i()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&i()})),e(".close-modal").addEventListener("click",(()=>{i()}))}function s(){var e;window.onload=function(){MaskedInput({elm:document.getElementById("customer_phone"),format:"+998 (_ _) _ _ _ - _ _ - _ _",separator:"+998 (   )-"})},(e=window).MaskedInput=function(t){if(!t||!t.elm||!t.format)return null;if(!(this instanceof e.MaskedInput))return new e.MaskedInput(t);let n=this,s=t.elm,a=t.format,o=t.allowed||"0123456789",i=t.allowedfx||function(){return!0},r=t.separator||"/:-",c=t.typeon||"_YMDhms",l=t.onbadkey||function(){},d=t.onfilled||function(){},u=t.badkeywait||0,f=!t.hasOwnProperty("preserve")||!!t.preserve,_=!0,m=!1,v=a,h=window.addEventListener?function(e,t,n,s){e.addEventListener(t,n,void 0!==s&&s)}:window.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:function(e,t,n){e["on"+t]=n},p=function(){for(let e=s.value.length-1;e>=0;e--)for(let t=0,n=c.length;t<n;t++)if(s.value[e]===c[t])return!1;return!0},g=function(e){try{return e.focus(),e.selectionStart>=0?e.selectionStart:document.selection?-document.selection.createRange().moveStart("character",-e.value.length):-1}catch(e){return-1}},k=function(e,t){try{if(e.selectionStart)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){let n=e.createTextRange();n.move("character",t),n.select()}}catch(e){return!1}return!0},y=function(e){let t="",n=(e=e||window.event).which,s=e.type;if(null==n&&(n=e.keyCode),null==n)return"";switch(n){case 8:t="bksp";break;case 46:t="keydown"===s?"del":".";break;case 16:t="shift";break;case 0:case 9:case 13:t="etc";break;case 37:case 38:case 39:case 40:t=e.shiftKey||39===e.charCode||void 0===e.charCode?String.fromCharCode(n):"etc";break;default:t=String.fromCharCode(n)}return t},b=function(e,t){e.preventDefault&&e.preventDefault(),e.returnValue=t||!1},L=function(e){let t=g(s),n=s.value,d="";switch(!0){case-1!==o.indexOf(e):if(t+=1,t>a.length)return!1;for(;-1!==r.indexOf(n.charAt(t-1))&&t<=a.length;)t+=1;if(!i(e,t))return l(e),!1;d=n.substr(0,t-1)+e+n.substr(t),-1===o.indexOf(n.charAt(t))&&-1===c.indexOf(n.charAt(t))&&(t+=1);break;case"bksp"===e:if(t-=1,t<0)return!1;for(;-1===o.indexOf(n.charAt(t))&&-1===c.indexOf(n.charAt(t))&&t>1;)t-=1;d=n.substr(0,t)+a.substr(t,1)+n.substr(t+1);break;case"del"===e:if(t>=n.length)return!1;for(;-1!==r.indexOf(n.charAt(t))&&""!==n.charAt(t);)t+=1;d=n.substr(0,t)+a.substr(t,1)+n.substr(t+1),t+=1;break;case"etc"===e:return!0;default:return!1}return s.value="",s.value=d,k(s,t),!1};return n.resetField=function(){s.value=a},n.setAllowed=function(e){o=e,n.resetField()},n.setFormat=function(e){a=e,n.resetField()},n.setSeparator=function(e){r=e,n.resetField()},n.setTypeon=function(e){c=e,n.resetField()},n.setEnabled=function(e){_=e},!s.tagName||"INPUT"!==s.tagName.toUpperCase()&&"TEXTAREA"!==s.tagName.toUpperCase()?null:(f&&""!==s.value||(s.value=a),h(s,"keydown",(function(e){!function(e){if(!_)return!0;if(e=e||event,m)return b(e),!1;let t=y(e);!e.metaKey&&!e.ctrlKey||"X"!==t&&"V"!==t?e.metaKey||e.ctrlKey||(""===s.value&&(s.value=a,k(s,0)),"bksp"!==t&&"del"!==t||(L(t),b(e))):b(e)}(e)})),h(s,"keypress",(function(e){!function(e){if(!_)return!0;if(e=e||event,m)return b(e),!1;let t=y(e);!!("etc"===t||e.metaKey||e.ctrlKey||e.altKey)||"bksp"!==t&&"del"!==t&&"shift"!==t&&(function(e){if(-1===o.indexOf(e)&&"bksp"!==e&&"del"!==e&&"etc"!==e){let t=g(s);return m=!0,l(e),setTimeout((function(){m=!1,k(s,t)}),u),!1}return!0}(t)?L(t)?(p()&&d(),b(e,!0)):(p()&&d(),b(e)):b(e))}(e)})),h(s,"focus",(function(){v=s.value})),h(s,"blur",(function(){s.value!==v&&s.onchange&&s.onchange()})),n)}}document.addEventListener("DOMContentLoaded",(()=>{(function(){const t=e(".search-form"),n=e(".search-input"),s=e(".search-button"),a=e(".search-button img");function o(){n.classList.remove("search-input-open"),n.classList.add("search-input-close"),t.reset(),setTimeout((()=>{n.classList.add("hidden")}),400)}let i=!1;s.addEventListener("click",(e=>{i=!i,i?(a.src="img/icons/search_icon_green.svg",setTimeout((()=>{n.classList.remove("search-input-close"),n.classList.add("search-input-open"),n.classList.remove("hidden")}),200),setTimeout((()=>{n.focus()}),600)):(a.src="img/icons/search_icon.svg",o())})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&i&&(a.src="img/icons/search_icon.svg",o(),i=!i)}))})(),function(){const t=e(".menu-bar"),n=e(".site-nav");t.addEventListener("click",(()=>{n.classList.toggle("site-nav-open"),n.classList.contains("site-nav-open")?document.body.style.overflow="hidden":document.body.style.overflow=""})),n.addEventListener("click",(e=>{e.target.classList.contains("site-nav__link")&&(e.currentTarget.classList.remove("site-nav-open"),document.body.style.overflow="")}))}(),function(){e(".language");const s=e(".language__selected"),a=e(".language__list"),o=t(".language__item");function i(){a.classList.add("hidden")}let r;s.addEventListener("click",(e=>{a.classList.contains("hidden")?a.classList.remove("hidden"):i()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&i()})),window.addEventListener("click",(e=>{e.target!==s&&i()})),localStorage.getItem("selectedLanguageIndex")?(r=localStorage.getItem("selectedLanguageIndex"),o.forEach((e=>e.classList.remove("language__item--active"))),o[r].classList.add("language__item--active")):(r=0,o.forEach((e=>e.classList.remove("language__item--active"))),o[r].classList.add("language__item--active")),s.textContent=o[r].dataset.selected,a.addEventListener("click",(e=>{const t=e.target;o.forEach(((e,n)=>{e.classList.remove("language__item--active"),t===e&&(r=n,s.textContent=o[r].dataset.selected,localStorage.setItem("selectedLanguageIndex",r))})),A(r),t.classList.add("language__item--active")}));const c=e(".site-nav__ul"),l=e(".search-input"),d=e(".site-intro .container"),u=e(".site-info__left"),f=e(".our-products h2"),_=e(".our-products .row"),m=e(".additional h2"),v=e(".shoe-covers__info h3"),h=e(".shoe-covers__ul"),p=e(".shoe-covers__info button"),g=e(".medical-masks h3"),k=e(".medical-masks ul"),y=e(".medical-masks button"),b=e(".greenhouse h3"),L=e(".greenhouse .shoe-covers__ul"),w=e(".greenhouse .order-btn"),E=e(".site-footer h2"),x=e(".map-link"),T=e(".order-modal__content h2"),$=e("#customer_name_span"),C=e("#customer_phone_span"),M=e(".order-modal__form .order-btn"),S=e(".product-name-label span:first-child");function A(e=0){const{site_nav:t,site_intro:s,site_info:a,our_products:o,additional:i,greenhouse:r,contact_us:A,order:H,search:I,fill_form:N,enter_name:O,enter_phone:K,product_name:F}=content[e];c.innerHTML="",c.innerHTML+=`\n            <li class="site-nav__li">\n              <a class="site-nav__link" href="#our-products">${t[0]}</a>\n           </li>\n           <li class="site-nav__li">\n              <a class="site-nav__link" href="#additional">${t[1]}</a>\n           </li>\n           <li class="site-nav__li">\n              <a class="site-nav__link" href="#contacts">${t[2]}</a>\n           </li>\n        `,l.setAttribute("placeholder",I),d.innerHTML=`\n            <div class="site-intro__left">\n                <h1>${s.title}</h1>\n                <a href="#">${s.button_text}</a>\n            </div>\n            <div class="site-intro__right">\n                <div>15</div>\n                <div>${s.in_market}</div>\n            </div>\n        `,u.innerHTML=`\n            <h2 class="section-title">${a.title}</h2>\n            <ul class="site-info__ul">\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#our-products">${a.links[0]}</a>\n                </li>\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#additional">${a.links[1]}</a>\n                </li>\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#greenhouse">${a.links[2]}</a>\n                </li>\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#contacts">${a.links[3]}</a>\n                </li>\n            </ul>\n        `,f.textContent=o.title,_.innerHTML="",o.cards.forEach((({img:e,title:t,data:n,product_name:s})=>{_.innerHTML+=`\n                <div class="card">\n                    <div class="card-header">\n                        <div class="card-img">\n                            <img src=${e} alt=${t} width="200" height="200">\n                        </div>\n                    </div>\n                    <div class="card-body">\n                        <h3 class="card-title">${t}</h3>\n                        <div>\n                            <strong>${n[0].key}: </strong>\n                            <span>${n[0].value}</span>\n                        </div>\n                        <div>\n                            <strong>${n[1].key}: </strong>\n                            <span>${n[1].value}</span>\n                        </div>\n                        <div>\n                            <strong>${n[2].key}: </strong>\n                            <span>${n[2].value}</span>\n                        </div>\n                        <div>\n                            <button class="order-btn" data-product-name=${s} data-product-name-show=${t.split(" ").join("_")}>${H}</button>\n                        </div>\n                    </div>\n                </div>\n            `})),m.textContent=i.title,v.textContent=i.shoe_covers.title,h.innerHTML="",i.shoe_covers.data.forEach((({key:e,value:t})=>{h.innerHTML+=`\n                 <li class="shoe-covers__li">\n                    <strong>${e}: </strong>\n                    <span>${t}</span>\n                </li>\n            `})),p.textContent=H,p.dataset.productName="бахилы",p.dataset.productNameShow=i.shoe_covers.title.split(" ").join("_"),g.textContent=i.masks.title,k.innerHTML="",i.masks.data.forEach((({key:e,value:t})=>{k.innerHTML+=`\n               <li class="shoe-covers__li">\n                  <strong>${e}: </strong>\n                  <span>${t}</span>\n               </li> \n            `})),y.textContent=H,y.dataset.productName="медицинские_маски",y.dataset.productNameShow=i.masks.title.split(" ").join("_"),b.textContent=r.title,L.innerHTML="",r.data.forEach((({key:e,value:t})=>{L.innerHTML+=`\n                <li class="shoe-covers__li">\n                    <strong>${e}: </strong>\n                    <span>${t}</span>\n                </li>\n            `})),w.textContent=H,w.dataset.productName="тепличные_плёнки",w.dataset.productNameShow=r.title.split(" ").join("_"),E.textContent=A.title,x.textContent=A.address,T.textContent=N,$.textContent=O,C.textContent=K,S.textContent=F,M.textContent=H,n()}A(r)}(),function(){const t=e("#scroll-top");window.onscroll=function(){document.body.scrollTop>300||document.documentElement.scrollTop>300?t.style.display="block":t.style.display="none"},t.addEventListener("click",(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}))}(),s(),n()}))})();
//# sourceMappingURL=bundle.js.map