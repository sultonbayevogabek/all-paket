(()=>{"use strict";function e(e){return document.querySelector(e)}function t(e){return document.querySelectorAll(e)}function n(){const n=e(".order-modal"),s=(e(".order-modal__content"),e(".order-modal__form"),e("#customer_name_span"),e(".customer_phone_span"),e("#customer_name"),e("#customer_phone"),e(".order-modal__form .order-btn"),e(".product-name-label span:first-child"),e(".product-name-label strong")),i=e("#product_name"),a=e("#scroll-top");function o(){document.body.style.overflow="",n.classList.add("hide-modal"),(document.body.scrollTop>300||document.documentElement.scrollTop>300)&&(a.style.display="block")}t("[data-product-name]").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target;var o,l;o=t.getAttribute("data-product-name"),l=t.getAttribute("data-product-name-show").replace(/_/gi," "),document.body.style.overflow="hidden",n.classList.remove("hide-modal"),a.style.display="none",s.textContent=l,i.value=o}))})),n.addEventListener("click",(e=>{e.target===n&&o()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&o()})),e(".close-modal").addEventListener("click",(()=>{o()}))}document.addEventListener("DOMContentLoaded",(()=>{(function(){const t=e(".search-form"),n=e(".search-input"),s=e(".search-button"),i=e(".search-button img");function a(){n.classList.remove("search-input-open"),n.classList.add("search-input-close"),t.reset(),setTimeout((()=>{n.classList.add("hidden")}),400)}let o=!1;s.addEventListener("click",(e=>{o=!o,o?(i.src="img/icons/search_icon_green.svg",setTimeout((()=>{n.classList.remove("search-input-close"),n.classList.add("search-input-open"),n.classList.remove("hidden")}),200),setTimeout((()=>{n.focus()}),600)):(i.src="img/icons/search_icon.svg",a())})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&o&&(i.src="img/icons/search_icon.svg",a(),o=!o)}))})(),function(){const t=e(".menu-bar"),n=e(".site-nav");t.addEventListener("click",(()=>{n.classList.toggle("site-nav-open"),n.classList.contains("site-nav-open")?document.body.style.overflow="hidden":document.body.style.overflow=""})),n.addEventListener("click",(e=>{e.target.classList.contains("site-nav__link")&&(e.currentTarget.classList.remove("site-nav-open"),document.body.style.overflow="")}))}(),function(){e(".language");const s=e(".language__selected"),i=e(".language__list"),a=t(".language__item");function o(){i.classList.add("hidden")}let l;s.addEventListener("click",(e=>{i.classList.contains("hidden")?i.classList.remove("hidden"):o()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&o()})),window.addEventListener("click",(e=>{e.target!==s&&o()})),localStorage.getItem("selectedLanguageIndex")?(l=localStorage.getItem("selectedLanguageIndex"),a.forEach((e=>e.classList.remove("language__item--active"))),a[l].classList.add("language__item--active")):(l=0,a.forEach((e=>e.classList.remove("language__item--active"))),a[l].classList.add("language__item--active")),s.textContent=a[l].dataset.selected,i.addEventListener("click",(e=>{const t=e.target;a.forEach(((e,n)=>{e.classList.remove("language__item--active"),t===e&&(l=n,s.textContent=a[l].dataset.selected,localStorage.setItem("selectedLanguageIndex",l))})),M(l),t.classList.add("language__item--active")}));const r=e(".site-nav__ul"),c=e(".search-input"),d=e(".site-intro .container"),h=e(".site-info__left"),u=e(".our-products h2"),_=e(".our-products .row"),m=e(".additional h2"),p=e(".shoe-covers__info h3"),v=e(".shoe-covers__ul"),g=e(".shoe-covers__info button"),f=e(".medical-masks h3"),k=e(".medical-masks ul"),L=e(".medical-masks button"),y=e(".greenhouse h3"),w=e(".greenhouse .shoe-covers__ul"),E=e(".greenhouse .order-btn"),b=e(".site-footer h2"),$=e(".map-link"),x=e(".order-modal__content h2"),C=e("#customer_name_span"),T=e("#customer_phone_span"),H=e(".order-modal__form .order-btn"),N=e(".product-name-label span:first-child");function M(e=0){const{site_nav:t,site_intro:s,site_info:i,our_products:a,additional:o,greenhouse:l,contact_us:M,order:S,search:A,fill_form:D,enter_name:I,enter_phone:P,product_name:j}=content[e];r.innerHTML="",r.innerHTML+=`\n            <li class="site-nav__li">\n              <a class="site-nav__link" href="#our-products">${t[0]}</a>\n           </li>\n           <li class="site-nav__li">\n              <a class="site-nav__link" href="#additional">${t[1]}</a>\n           </li>\n           <li class="site-nav__li">\n              <a class="site-nav__link" href="#contacts">${t[2]}</a>\n           </li>\n        `,c.setAttribute("placeholder",A),d.innerHTML=`\n            <div class="site-intro__left">\n                <h1>${s.title}</h1>\n                <a href="#">${s.button_text}</a>\n            </div>\n            <div class="site-intro__right">\n                <div>15</div>\n                <div>${s.in_market}</div>\n            </div>\n        `,h.innerHTML=`\n            <h2 class="section-title">${i.title}</h2>\n            <ul class="site-info__ul">\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#our-products">${i.links[0]}</a>\n                </li>\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#additional">${i.links[1]}</a>\n                </li>\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#greenhouse">${i.links[2]}</a>\n                </li>\n                <li class="site-info__li">\n                    <a class="site-info__link" href="#contacts">${i.links[3]}</a>\n                </li>\n            </ul>\n        `,u.textContent=a.title,_.innerHTML="",a.cards.forEach((({img:e,title:t,data:n,product_name:s})=>{_.innerHTML+=`\n                <div class="card">\n                    <div class="card-header">\n                        <div class="card-img">\n                            <img src=${e} alt=${t} width="200" height="200">\n                        </div>\n                    </div>\n                    <div class="card-body">\n                        <h3 class="card-title">${t}</h3>\n                        <div>\n                            <strong>${n[0].key}: </strong>\n                            <span>${n[0].value}</span>\n                        </div>\n                        <div>\n                            <strong>${n[1].key}: </strong>\n                            <span>${n[1].value}</span>\n                        </div>\n                        <div>\n                            <strong>${n[2].key}: </strong>\n                            <span>${n[2].value}</span>\n                        </div>\n                        <div>\n                            <button class="order-btn" data-product-name=${s} data-product-name-show=${t.split(" ").join("_")}>${S}</button>\n                        </div>\n                    </div>\n                </div>\n            `})),m.textContent=o.title,p.textContent=o.shoe_covers.title,v.innerHTML="",o.shoe_covers.data.forEach((({key:e,value:t})=>{v.innerHTML+=`\n                 <li class="shoe-covers__li">\n                    <strong>${e}: </strong>\n                    <span>${t}</span>\n                </li>\n            `})),g.textContent=S,g.dataset.productName="бахилы",g.dataset.productNameShow=o.shoe_covers.title.split(" ").join("_"),f.textContent=o.masks.title,k.innerHTML="",o.masks.data.forEach((({key:e,value:t})=>{k.innerHTML+=`\n               <li class="shoe-covers__li">\n                  <strong>${e}: </strong>\n                  <span>${t}</span>\n               </li> \n            `})),L.textContent=S,L.dataset.productName="медицинские_маски",L.dataset.productNameShow=o.masks.title.split(" ").join("_"),y.textContent=l.title,w.innerHTML="",l.data.forEach((({key:e,value:t})=>{w.innerHTML+=`\n                <li class="shoe-covers__li">\n                    <strong>${e}: </strong>\n                    <span>${t}</span>\n                </li>\n            `})),E.textContent=S,E.dataset.productName="тепличные_плёнки",E.dataset.productNameShow=l.title.split(" ").join("_"),b.textContent=M.title,$.textContent=M.address,x.textContent=D,C.textContent=I,T.textContent=P,N.textContent=j,H.textContent=S,n()}M(l)}(),function(){const t=e("#scroll-top");window.onscroll=function(){document.body.scrollTop>300||document.documentElement.scrollTop>300?t.style.display="block":t.style.display="none"},t.addEventListener("click",(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}))}(),function(){class e{constructor(e,t="+7(___)___-____",n="_"){this.handler=e,this.mask=t,this.placeholder=n,this.setLength(),this.setValue(),this.start=this.placeHolderPosition()-1,this.handler.addEventListener("focusin",(()=>{this.focused()})),this.handler.addEventListener("keydown",(e=>{this.input(e)}))}focused(){let e=this.placeHolderPosition();this.handler.selectionStart=e,this.handler.selectionEnd=e}input(e){if(this.isDirectionKey(e.key)||e.preventDefault(),this.isNum(e.key))this.changeChar(e.key);else if(this.isDeletionKey(e.key))if("Backspace"===e.key){let e=this.start;this.changeChar(this.placeholder,-1,e)}else this.changeChar(this.placeholder)}setLength(){this.handler.maxLength=this.mask.length}setValue(){this.handler.value=this.mask}isNum(e){return!isNaN(e)&&parseInt(+e)==e&&!isNaN(parseInt(e,10))}isDeletionKey(e){return"Delete"===e||"Backspace"===e}isDirectionKey(e){return"ArrowUp"===e||"ArrowDown"===e||"ArrowRight"===e||"ArrowLeft"===e||"Tab"===e}isPlaceholder(e){return e==this.placeholder}placeHolderPosition(){return this.handler.value.indexOf(this.placeholder)}changeChar(e,t=1,n=this.mask.length){let s,i=this.handler.value;s=0<t?this.handler.selectionStart:this.handler.selectionStart-1;let a="";if(s===n)return!1;if(!this.isNum(i[s])&&!this.isPlaceholder(i[s]))do{if(s+=t,s===n)return!1}while(!this.isNum(i[s])&&!this.isPlaceholder(i[s]));a=this.replaceAt(i,s,e),this.handler.value=a,0<t&&(s+=t),this.handler.selectionStart=s,this.handler.selectionEnd=s}replaceAt(e,t,n){return e.substring(0,t)+n+e.substring(++t)}}let t=document.getElementsByClassName("masked-phone"),n=[];for(let s=0;s<t.length;s++)n.push(new e(t[s],t[s].dataset.phonemask,t[s].dataset.placeholder))}(),n()}))})();
//# sourceMappingURL=bundle.js.map